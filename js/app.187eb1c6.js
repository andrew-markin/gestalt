(function(e){function t(t){for(var n,i,c=t[0],o=t[1],u=t[2],l=0,f=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);d&&d(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=o;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},1:function(e,t){},"107c5":function(e,t,a){},"17cd":function(e,t,a){"use strict";a("1f59")},"1f59":function(e,t,a){},"49f8":function(e,t,a){var n={"./en.json":"edd4","./ru.json":"7704"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="49f8"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",elevation:"2","elevate-on-scroll":"",color:"foreground"}},[a("v-container",{staticClass:"d-flex py-0 noselect overflow-x-hidden"},[a("v-avatar",{staticClass:"mr-3",attrs:{size:"32"}},[a("div",{attrs:{id:"favicon"}},[a("object",{attrs:{type:"image/svg+xml",data:"favicon.svg",width:"100%",height:"100%"}})])]),a("div",{staticClass:"d-flex align-center text-h5 overflow-x-hidden pr-4",attrs:{id:"title"},on:{click:function(t){return e.setPrefsDialogShown(!0)}}},[a("span",{staticClass:"font-weight-medium mr-2"},[e._v(e._s(e.$t("GESTALT"))+":")]),a("span",{staticClass:"text-truncate",class:{"muted-1":!e.title}},[e._v(" "+e._s(e.title||e.$t("UNTITLED"))+" ")]),a("v-badge",{staticClass:"ml-2",attrs:{dot:"","offset-y":"-6",value:!e.synced}})],1),a("v-spacer"),a("v-btn",{staticClass:"ml-2",attrs:{depressed:""},on:{click:function(t){return e.demandTask({})}}},[a("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" "+e._s(e.$t("TASK"))+" ")],1),a("v-btn",{staticClass:"ml-2",attrs:{depressed:"",disabled:!e.selectedTask},on:{click:function(t){return e.demandTask({subtask:!0})}}},[a("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" "+e._s(e.$t("SUBTASK"))+" ")],1),a("v-menu",{attrs:{transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"nominwidth pa-2 ml-2",attrs:{depressed:""}},"v-btn",r,!1),n),[a("v-icon",[e._v("menu")])],1)]}}])},[a("v-list",[a("v-list-item",{attrs:{link:""},on:{click:e.copyLink}},[a("v-icon",{attrs:{left:""}},[e._v("share")]),e._v(" "+e._s(e.$t("COPY_LINK"))+" ")],1),a("v-list-item",{attrs:{link:""},on:{click:e.newGestalt}},[a("v-icon",{attrs:{left:""}},[e._v("open_in_new")]),e._v(" "+e._s(e.$t("NEW_GESTALT"))+" ")],1),a("v-list-item",{attrs:{link:""},on:{click:e.cloneGestalt}},[a("v-icon",{attrs:{left:""}},[e._v("content_copy")]),e._v(" "+e._s(e.$t("CLONE_GESTALT"))+" ")],1),a("v-list-item",{attrs:{link:""},on:{click:e.resetAllTasks}},[a("v-icon",{attrs:{left:""}},[e._v("radio_button_unchecked")]),e._v(" "+e._s(e.$t("RESET_ALL_TASKS"))+" ")],1),a("v-list-item",{attrs:{link:""},on:{click:e.toggleDarkTheme}},[a("v-icon",{attrs:{left:""}},[e._v("invert_colors")]),e._v(" "+e._s(e.$t("TOGGLE_COLOR_THEME"))+" ")],1),a("v-subheader",[e._v(" "+e._s(e.$t("APP_LANGUAGE"))+" ")]),a("v-list-item-group",{model:{value:e.$i18n.locale,callback:function(t){e.$set(e.$i18n,"locale",t)},expression:"$i18n.locale"}},e._l(e.locales,(function(t){return a("v-list-item",{key:t.value,attrs:{value:t.value}},[a("v-list-item-title",[a("v-icon",{attrs:{left:""}},[e._v("translate")]),e._v(" "+e._s(t.title)+" ")],1)],1)})),1)],1)],1)],1)],1),a("prefs-dialog"),a("task-dialog"),a("v-main",{staticClass:"background"},[a("router-view")],1)],1)},r=[],s=a("5530"),i=(a("d81d"),a("2f62")),c=(a("d3b7"),a("159b"),a("ddb0"),a("ac1f"),a("466d"),a("1276"),a("498a"),a("2b0e")),o=a("a925");c["a"].use(o["a"]);var u={},d=a("49f8");d.keys().forEach((function(e){var t=e.match(/([A-Za-z0-9-_]+)\./i);if(t&&t.length>1){var a=t[1];u[a]=d(e)}}));var l=function(e){return e&&e.trim().split(/-|_/)[0]},f=l(void 0!==navigator.languages?navigator.languages[0]:navigator.language),v="locale",p=function(e){e!==f?localStorage.setItem(v,e):localStorage.removeItem(v)},k=new o["a"]({locale:localStorage.getItem(v)||f||"en",fallbackLocale:"en",messages:u}),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"650","overlay-color":"grey darken-3"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("v-card",{staticClass:"pa-5"},[a("span",{staticClass:"text-h5"},[e._v(e._s(e.$t("GESTALT")))]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{staticClass:"my-5",attrs:{autofocus:"",label:e.$t("TITLE"),placeholder:e.$t("UNTITLED"),rules:e.titleRules,counter:"64"},on:{focus:e.$moveCursorToEnd,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.$refs.saveButton.$el.click())}},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),a("div",{staticClass:"d-flex"},[a("v-spacer"),a("v-btn",{staticClass:"mr-3",attrs:{depressed:""},on:{click:function(t){e.visible=!1}}},[e._v(" "+e._s(e.$t("CLOSE"))+" ")]),a("v-btn",{ref:"saveButton",attrs:{depressed:"",color:"primary",disabled:!e.visible||!e.valid||!e.modified},on:{click:e.save}},[e._v(" "+e._s(e.$t("SAVE"))+" ")])],1)],1)],1)},b=[],h=a("1da1"),T=(a("96cf"),{data:function(){return{title:"",valid:!0}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["e"])(["prefsDialogShown"])),Object(i["c"])(["getPref"])),{},{visible:{get:function(){return!!this.prefsDialogShown},set:function(e){e||this.setPrefsDialogShown(!1)}},titleRules:function(){var e=this;return[function(t){return t.length<=64||e.$t("TITLE_LENGTH_LIMIT_MESSAGE")}]},savedTitle:function(){return this.getPref("title")},trimmedTitle:function(){return this.title.trim()||void 0},modified:function(){return this.trimmedTitle!==this.savedTitle}}),watch:{prefsDialogShown:function(e){this.title=e&&this.savedTitle||"",this.$refs.form&&this.$refs.form.resetValidation()}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["b"])(["setPref"])),Object(i["d"])(["setPrefsDialogShown"])),{},{save:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.visible&&e.modified&&e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.setPref({name:"title",value:e.trimmedTitle});case 4:e.visible=!1;case 5:case"end":return t.stop()}}),t)})))()}})}),g=T,x=a("2877"),_=a("6544"),O=a.n(_),S=a("8336"),y=a("b0af"),E=a("169a"),w=a("4bd4"),j=a("2fa4"),L=a("8654"),C=Object(x["a"])(g,m,b,!1,null,null,null),A=C.exports;O()(C,{VBtn:S["a"],VCard:y["a"],VDialog:E["a"],VForm:w["a"],VSpacer:j["a"],VTextField:L["a"]});var I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"650","overlay-color":"grey darken-3"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("v-card",{staticClass:"pa-5"},[a("div",{staticClass:"d-flex align-center"},[a("span",{staticClass:"text-h5"},[e._v(e._s(e.$t("TASK")))]),a("v-spacer"),a("task-state-input",{model:{value:e.state,callback:function(t){e.state=t},expression:"state"}})],1),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-textarea",{staticClass:"my-5",attrs:{autofocus:"",label:e.$t("DESCRIPTION"),rows:"6","no-resize":"",counter:"256",required:"",rules:e.descriptionRules},on:{focus:e.$moveCursorToEnd,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void(e.description+="\n")):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.$refs.saveButton.$el.click())}]},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),a("div",{staticClass:"d-flex"},[e.task?a("v-btn",{attrs:{depressed:""},on:{click:function(t){return e.deleteTask(e.task.uuid)}}},[e._v(" "+e._s(e.$t("DELETE"))+" ")]):e._e(),a("v-spacer"),a("v-btn",{staticClass:"mr-3",attrs:{depressed:""},on:{click:function(t){e.visible=!1}}},[e._v(" "+e._s(e.$t("CLOSE"))+" ")]),a("v-btn",{ref:"saveButton",attrs:{depressed:"",color:"primary",disabled:!e.visible||!e.valid||!e.modified},on:{click:e.save}},[e._v(" "+e._s(e.$t("SAVE"))+" ")])],1)],1)],1)},R=[],$=(a("a4d3"),a("e01a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-inline"},e._l(e.states,(function(t){return a("v-btn",{key:t.value,staticClass:"ml-1",class:{"muted-1":t.value!==e.value},attrs:{depressed:"",rounded:"",color:t.value===e.value&&t.color||void 0,text:t.value!==e.value},on:{click:function(a){e.$emit("input",t.value)&&e.blur()}}},[e._v(" "+e._s(t.title)+" "),a("v-icon",{attrs:{right:""}},[e._v(e._s(t.icon))])],1)})),1)}),P=[],D=(a("a9e3"),{Set:0,InProgress:1,Complete:2}),G={props:{value:{type:Number,default:0}},computed:{states:function(){return[{value:D.Set,title:this.$t("TASK_STATE_SET"),icon:"radio_button_unchecked",color:void 0},{value:D.InProgress,title:this.$t("TASK_STATE_IN_PROGRESS"),icon:"contrast",color:"primary"},{value:D.Complete,title:this.$t("TASK_STATE_COMPLETE"),icon:"circle",color:"success"}]},blur:function(){var e=this.$el.parentElement;while(e&&"0"!==e.getAttribute("tabindex"))e=e.parentElement;return function(){e&&e.focus()}}}},N=G,V=a("132d"),K=Object(x["a"])(N,$,P,!1,null,null,null),M=K.exports;O()(K,{VBtn:S["a"],VIcon:V["a"]});var U={components:{TaskStateInput:M},data:function(){return{description:"",state:0,valid:!0}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["e"])(["demandedTask"])),Object(i["c"])(["getTask"])),{},{visible:{get:function(){return!!this.demandedTask},set:function(e){e||this.demandTask()}},descriptionRules:function(){var e=this;return[function(t){return!!t&&t.trim().length>0||e.$t("DESCRIPTION_REQUIRED_MESSAGE")},function(t){return t.length<=256||e.$t("DESCRIPTION_LENGTH_LIMIT_MESSAGE")}]},task:function(){var e=this.demandedTask||{},t=e.uuid;return this.getTask(t)},trimmedDescription:function(){return this.description.trim()},modified:function(){if(!this.task)return!0;if(!this.task.data)return!1;var e=this.task.data,t=e.description,a=e.state;return this.trimmedDescription!==t||this.state!==a}}),watch:{demandedTask:function(){if(this.task){var e=this.task.data||{},t=e.description,a=e.state;this.description=t||"",this.state=a||0}else this.description="",this.state=0;this.$refs.form&&this.$refs.form.resetValidation()}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["b"])(["upsertTask","deleteTask"])),Object(i["d"])(["demandTask"])),{},{save:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.demandedTask&&e.modified&&e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return a=e.demandedTask,n=a.uuid,r=a.subtask,t.next=5,e.upsertTask({uuid:n,subtask:r,data:{description:e.trimmedDescription,state:e.state}});case 5:e.visible=!1;case 6:case"end":return t.stop()}}),t)})))()}})},B=U,q=a("a844"),H=Object(x["a"])(B,I,R,!1,null,null,null),F=H.exports;O()(H,{VBtn:S["a"],VCard:y["a"],VDialog:E["a"],VForm:w["a"],VSpacer:j["a"],VTextarea:q["a"]});var J={components:{PrefsDialog:A,TaskDialog:F},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["e"])(["selectedTask"])),Object(i["c"])(["synced","getPref"])),{},{title:function(){return this.getPref("title")},locales:function(){var e=this;return this.$i18n.availableLocales.map((function(t){return{value:t,title:e.$t("_LOCALE_TITLE",t)}}))}}),watch:{title:function(){this.updateTitle()},"$i18n.locale":function(e){p(e)}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["b"])(["copyLink","newGestalt","cloneGestalt","resetAllTasks"])),Object(i["d"])(["setPrefsDialogShown","demandTask"])),{},{updateTitle:function(){document.title=this.title||this.$t("GESTALT")},toggleDarkTheme:function(){var e=!this.$vuetify.theme.dark;this.$vuetify.theme.dark=e,localStorage.setItem("dark",e)}}),created:function(){this.updateTitle()}},z=J,W=(a("034f"),a("17cd"),a("7496")),Q=a("40dc"),Y=a("8212"),X=a("4ca6"),Z=a("a523"),ee=a("8860"),te=a("da13"),ae=a("1baa"),ne=a("5d23"),re=a("f6c4"),se=a("e449"),ie=a("e0c7"),ce=Object(x["a"])(z,n,r,!1,null,"296d8783",null),oe=ce.exports;O()(ce,{VApp:W["a"],VAppBar:Q["a"],VAvatar:Y["a"],VBadge:X["a"],VBtn:S["a"],VContainer:Z["a"],VIcon:V["a"],VList:ee["a"],VListItem:te["a"],VListItemGroup:ae["a"],VListItemTitle:ne["a"],VMain:re["a"],VMenu:se["a"],VSpacer:j["a"],VSubheader:ie["a"]});a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("25f0");var ue=a("c198"),de=a.n(ue),le=a("42a7"),fe=a.n(le),ve=a("21bf"),pe=a.n(ve),ke=a("ed53"),me=a.n(ke),be=a("acff"),he="dTQh12Ao8KnoIKJyvvPVXq3yyYeTej71",Te=function(e){for(var t=e.length,a=[],n=0;n<t;n++)a[n>>>2]|=e[n]<<24-n%4*8;return pe.a.lib.WordArray.create(a,e.length)},ge=function(e){for(var t=e.words,a=e.sigBytes,n=new Uint8Array(a),r=0;r<a;r++)n[r]=t[r>>>2]>>>24-r%4*8&255;return n},xe=fe()("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),_e=function(){var e=pe.a.lib.WordArray.random(32);return xe.encode(ge(e))},Oe=function(e){return me()(e,he).toString()},Se=function(e,t){if(e){var a=Te(be["a"].deflate(e));return de.a.encrypt(a,t).toString()}},ye=function(e,t){if(e){var a=ge(de.a.decrypt(e,t));return be["a"].inflate(a,{to:"string"})}},Ee=0,we=function(){return 1e3*(Date.now()+Ee)+Math.floor(1e3*Math.random())},je=function(e){Ee=e},Le=function(e){var t=e.target,a=t.value.length;t.setSelectionRange(a,a)};c["a"].prototype.$moveCursorToEnd=Le;var Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"pt-0"},[a("div",{attrs:{id:"outside"},on:{click:function(t){return e.select()}}}),a("task-tree",{staticClass:"noselect",attrs:{tasks:e.tasks,"selected-task":e.selectedTask},on:{open:e.open,move:e.move,reorder:e.reorder,expand:e.expand,select:e.select}})],1)},Ae=[],Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("drop-list",{class:{"mt-3":!e.parent},attrs:{items:e.tasks,column:"","no-animations":""},on:{insert:function(t){return e.$emit("move",t.data,e.parent,t.index)},reorder:function(t){return e.$emit("reorder",e.parent,t.from,t.to)}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,r=t.index;return[a("drag",{key:n.uuid,attrs:{data:n.uuid,"drag-image-opacity":.9},on:{dragstart:function(t){return e.$emit("select",n.uuid)}},scopedSlots:e._u([n.deleted?null:{key:"default",fn:function(){return[a("div",{staticClass:"d-flex"},[e.parent?a("div",{staticClass:"trunk mt-n3",class:{piped:r!==e.lastTaskIndex}},[a("div",{staticClass:"bridge pt-3",class:{last:r===e.lastTaskIndex}})]):e._e(),a("div",{staticClass:"flex-grow-1 overflow-hidden"},[a("v-sheet",{staticClass:"task rounded mb-3 px-3 d-flex",class:{primary:n.uuid===e.selectedTask},attrs:{tabindex:"0",dark:n.uuid===e.selectedTask},on:{focus:function(t){return e.$emit("select",n.uuid)},dblclick:function(t){return e.$emit("open",n.uuid)}}},[n.subtasks.length>0?a("div",{staticClass:"expander ml-n3 d-flex justify-center",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("expand",n.uuid)},dblclick:function(e){e.preventDefault(),e.stopPropagation()}}},[a("v-icon",[e._v(" "+e._s(n.expanded?"expand_less":"expand_more")+" ")])],1):e._e(),a("div",{staticClass:"d-flex flex-grow-1 align-center overflow-hidden"},[a("span",{staticClass:"text-body-1 text-truncate"},[e._v(" "+e._s(n.data.description)+" ")])]),a("div",{staticClass:"ml-3 d-flex align-center"},[a("task-state-icon",{attrs:{state:n.state}})],1),a("drop",{staticClass:"drop-area",on:{drop:function(t){return e.$emit("move",t.data,n.uuid)}}})],1),n.subtasks.length>0&&n.expanded?a("task-tree",e._g({attrs:{parent:n.uuid,tasks:n.subtasks,"selected-task":e.selectedTask}},e.$listeners)):e._e()],1)])]},proxy:!0},{key:"drag-image",fn:function(){return[a("v-sheet",{staticClass:"primary dragged rounded pa-2 d-flex align-center noselect",attrs:{dark:""}},[a("span",{staticClass:"text-body-1 text-truncate"},[e._v(" "+e._s(n.data.description)+" ")])])]},proxy:!0}],null,!0)})]}},{key:"feedback",fn:function(t){var n=t.data;return[a("div",{key:n,staticClass:"feedback",class:{shrinked:!!e.parent}})]}},{key:"reordering-feedback",fn:function(){return[a("div",{key:"feedback",staticClass:"feedback",class:{shrinked:!!e.parent}})]},proxy:!0}])})},Re=[],$e=a("fdcb"),Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-icon",{class:{"muted-2":e.muted}},[e._v(e._s(e.icon))])},De=[],Ge={props:{state:{type:Number,default:D.Set}},computed:{icon:function(){switch(this.state){case D.Set:return"radio_button_unchecked";case D.InProgress:return"contrast";case D.Complete:return"circle";default:return}},muted:function(){return this.state===D.Set}}},Ne=Ge,Ve=Object(x["a"])(Ne,Pe,De,!1,null,null,null),Ke=Ve.exports;O()(Ve,{VIcon:V["a"]});var Me={name:"task-tree",components:{Drag:$e["a"],Drop:$e["b"],DropList:$e["c"],TaskStateIcon:Ke},props:{parent:{type:String},tasks:{type:Array,default:function(){return[]}},selectedTask:{type:String}},computed:{lastTaskIndex:function(){var e=this.tasks,t=e.length;while(t-- >0)if(!e[t].deleted)return t}}},Ue=Me,Be=(a("bfde"),a("8dd9")),qe=Object(x["a"])(Ue,Ie,Re,!1,null,"cff6d46c",null),He=qe.exports;O()(qe,{VIcon:V["a"],VSheet:Be["a"]});var Fe={components:{TaskTree:He},computed:Object(s["a"])(Object(s["a"])({},Object(i["e"])(["tasks","selectedTask"])),{},{gestaltKey:function(){return this.$route.params.key}}),watch:{gestaltKey:function(){this.loadGestalt()}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["b"])(["load","moveTask","reorderTask","expandTask"])),Object(i["d"])(["selectTask","demandTask"])),{},{loadGestalt:function(){this.load(this.gestaltKey)},open:function(e){this.selectTask(e),this.demandTask({uuid:e})},move:function(e,t,a){this.moveTask({uuid:e,target:t,index:a})},reorder:function(e,t,a){this.reorderTask({parent:e,from:t,to:a})},expand:function(e){this.selectTask(e),this.expandTask(e)},select:function(e){this.selectTask(e)}}),mounted:function(){this.loadGestalt()}},Je=Fe,ze=(a("88dd"),Object(x["a"])(Je,Ce,Ae,!1,null,"5c8c7a62",null)),We=ze.exports;O()(ze,{VContainer:Z["a"]});var Qe=a("8c4f");c["a"].use(Qe["a"]);var Ye=new Qe["a"]({routes:[{name:"board",path:"/:key([a-zA-Z0-9]{43})",component:We},{path:"*",redirect:{name:"board",params:{key:_e()}}}]}),Xe=a("15fd"),Ze=(a("e9c4"),a("3ca3"),a("2b3d"),a("9861"),a("d9e2"),a("99af"),a("b0c0"),a("a434"),a("abaf")),et=a("ec26"),tt=a("f904"),at=a.n(tt),nt=a("daa8"),rt=a("b85c"),st=(a("7db0"),a("4ec9"),a("a630"),function(e){return e.map((function(e){var t=e.name,a=e.value,n=e.changed;return{name:t,value:a,changed:n}}))}),it=function(e,t){var a=e.find((function(e){return e.name===t}))||{};return a.value},ct=function(e,t,a){var n=we(),r=e.find((function(e){return e.name===t}));r?(r.value=a,r.changed=n):e.push({name:t,value:a,changed:n})},ot=function(e,t){var a,n=new Map,r=Object(rt["a"])(e||[]);try{for(r.s();!(a=r.n()).done;){var s=a.value;n.set(s.name,s)}}catch(d){r.e(d)}finally{r.f()}var i,c=Object(rt["a"])(t||[]);try{for(c.s();!(i=c.n()).done;){var o=i.value,u=n.get(o.name);(!u||o.changed>u.changed)&&n.set(o.name,o)}}catch(d){c.e(d)}finally{c.f()}return Array.from(n.values())},ut={unify:st,getValue:it,setValue:ct,merge:ot},dt=a("3835"),lt=(a("6062"),["uuid","subtasks","expanded","deleted","state"]),ft=["subtasks","expanded","deleted","created","state"],vt=function e(t){return t.map((function(t){var a=t.uuid,n=t.subtasks,r=t.expanded,i=t.deleted,c=(t.state,Object(Xe["a"])(t,lt));return Object(s["a"])({uuid:a||Object(et["a"])(),subtasks:e(n||[]),expanded:r||!1,deleted:i||!1,state:void 0},c)}))},pt=function e(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.map((function(t){var n=t.subtasks,r=t.expanded,i=t.deleted,c=t.created,o=(t.state,Object(Xe["a"])(t,ft));return Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},n.length>0&&{subtasks:e(n,a)}),!a&&r&&{expanded:r}),!a&&i&&{deleted:i}),!a&&c&&{created:c}),o)}))},kt=function(e,t){if(e&&t){var a,n,r=e,i=0,c=[];while(r)if(i>=r.length){var o=c.pop()||[],u=Object(dt["a"])(o,2);r=u[0],i=u[1]}else{var d=r[i];if(d.deleted)i+=1;else{if(n)return Object(s["a"])(Object(s["a"])({},n),{},{next:d.uuid});d.uuid===t?n={task:d,tasks:r,index:i,previous:a}:a=d.uuid,i+=1,d.subtasks.length>0&&d.expanded&&(c.push([r,i]),r=d.subtasks,i=0)}}return n}},mt=function(e,t){if(!t)return e;var a=kt(e,t),n=a.task;return n?n.subtasks||[]:void 0},bt=function e(t){var a,n=Object(rt["a"])(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(!r.deleted){e(r.subtasks);var s,i=r.data.state,c=Object(rt["a"])(r.subtasks);try{for(c.s();!(s=c.n()).done;){var o=s.value;if(!o.deleted){if(i===D.InProgress)break;if(i!==o.state){i=D.InProgress;break}}}}catch(u){c.e(u)}finally{c.f()}r.state=i}}}catch(u){n.e(u)}finally{n.f()}},ht=function(e,t){var a=function(e){var t=new Map,a=function e(a){var n,r=Object(rt["a"])(a||[]);try{for(r.s();!(n=r.n()).done;){var s=n.value;t.set(s.uuid,s),e(s.subtasks)}}catch(i){r.e(i)}finally{r.f()}};return a(e),t},n=a(e),r=a(t),i=new Set,c=function(e,t){return(e||0)>(t||0)},o=function(e,t){return(e||0)>=(t||0)},u={BOTH:0,LOCAL:1,REMOTE:2},d=function(e,t){var a=e||[],s=t||[],d=0,f=0,v=[],p=function(e){i.add(e),v.push(l(e))};while(1){var k=a[d],m=s[f];if(!k&&!m)break;var b=void 0;if(b=k?m?k.uuid===m.uuid?u.BOTH:o(m.moved,k.moved)?u.REMOTE:u.LOCAL:u.LOCAL:u.REMOTE,b===u.LOCAL){if(d++,i.has(k.uuid))continue;var h=r.get(k.uuid);if(h&&c(h.moved,k.moved))continue;p(k.uuid)}else if(b===u.REMOTE){if(f++,i.has(m.uuid))continue;var T=n.get(m.uuid);if(T&&c(T.moved,m.moved))continue;p(m.uuid)}else d++,f++,p(k.uuid)}return v},l=function(e){var t=n.get(e),a=r.get(e);if(t||a)return t?a?Object(s["a"])(Object(s["a"])({},o(t.changed,a.changed)?t:a),{},{moved:Math.max(t.moved||0,a.moved||0),subtasks:d(t.subtasks,a.subtasks),expanded:t.expanded,deleted:t.deleted}):Object(s["a"])(Object(s["a"])({},t),{},{subtasks:d(t.subtasks,void 0)}):Object(s["a"])(Object(s["a"])({},a),{},{subtasks:d(void 0,a.subtasks)})},f=function e(t){var a,n=[],s=Object(rt["a"])(t);try{for(s.s();!(a=s.n()).done;){var i=a.value;i&&!i.deleted&&(i.created||r.has(i.uuid))&&(i.subtasks=e(i.subtasks),i.created=!1,n.push(i))}}catch(c){s.e(c)}finally{s.f()}return n};return f(d(e,t))},Tt=function e(t){var a,n=0,r=Object(rt["a"])(t);try{for(r.s();!(a=r.n()).done;){var s=a.value;s.data.state!==D.Set&&(s.data.state=D.Set,n+=1),n+=e(s.subtasks)}}catch(i){r.e(i)}finally{r.f()}return n},gt=function(e,t){var a=new Set,n=function e(t){var n,r=Object(rt["a"])(t||[]);try{for(r.s();!(n=r.n()).done;){var s=n.value;s.expanded&&a.add(s.uuid),e(s.subtasks)}}catch(i){r.e(i)}finally{r.f()}},r=function e(t){var n,r=Object(rt["a"])(t||[]);try{for(r.s();!(n=r.n()).done;){var s=n.value;a.has(s.uuid)&&(s.expanded=!0),e(s.subtasks)}}catch(i){r.e(i)}finally{r.f()}};n(e),r(t)},xt={extend:vt,reduce:pt,findOne:kt,findSubtasks:mt,recomputeStates:bt,merge:ht,resetAll:Tt,transferExpanded:gt},_t=["error"],Ot=["task"],St=2e3,yt=3e4,Et=10;c["a"].use(i["a"]);var wt=function(e,t){var a=ye(e,t),n=a&&JSON.parse(a)||{},r=n.prefs,s=n.tasks;return{prefs:ut.unify(r||[]),tasks:xt.extend(s||[])}},jt=function(e,t){var a=e.prefs,n=e.tasks,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Se(JSON.stringify({prefs:ut.unify(a),tasks:xt.reduce(n,r)}),t)},Lt=function(e,t){return{prefs:ut.merge(e.prefs,t.prefs),tasks:xt.merge(e.tasks,t.tasks)}},Ct=function(e){var t=Ye.resolve({name:"board",params:{key:e}});return new URL(t.href,window.location.href).href},At=Object(nt["a"])("wss://backend.gestalt.work",{transports:["websocket"],auth:{key:"GAHlLtSa8tkAIv5k3i9t50LAAKfj6M1X"}});At.on("connect_error",(function(e){console.warn("Socket connection error:",e.message)})),At.on("connect",Object(h["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Date.now(),e.next=3,Rt("now");case 3:a=e.sent,n=a.timestamp,t=Math.floor((t+Date.now())/2),je(n-t),Gt.dispatch("setupSocket");case 8:case"end":return e.stop()}}),e)})))),At.on("changed",(function(){Gt.dispatch("sync")}));var It,Rt=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return new Promise((function(t,n){if(!At.connected)return n(new Error("Socket is not connected"));At.emit.apply(At,[e].concat(a,[function(e){var a=e||{},r=a.error,s=Object(Xe["a"])(a,_t);r?n(new Error(r)):t(s)}]))}))},$t=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},Pt=function(){clearTimeout(It),It=setTimeout((function(){It=void 0,Gt.dispatch("sync")}),St)};setInterval((function(){Gt.dispatch("syncIfNeeded")}),yt);var Dt=new Ze["a"],Gt=new i["a"].Store({state:{key:void 0,prefs:[],tasks:[],saved:!0,version:void 0,prefsDialogShown:!1,selectedTask:void 0,demandedTask:void 0},getters:{synced:function(e){return e.version||0===e.prefs.length&&0===e.tasks.length},getPref:function(e){return function(t){return ut.getValue(e.prefs,t)}},getTask:function(e){return function(t){var a=xt.findOne(e.tasks,t)||{},n=a.task;return n}}},actions:{setupSocket:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.state,n=e.dispatch,At.connected){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Rt("ref",Oe(a.key));case 5:return t.next=7,n("sync");case 7:case"end":return t.stop()}}),t)})))()},resetSocket:function(){return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(At.connected){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Rt("ref",void 0);case 4:case"end":return e.stop()}}),e)})))()},saveLocal:function(e,t){var a=e.state,n=t.name,r=t.value,s=t.key,i="gestalt:".concat(Oe(s||a.key),":").concat(n);void 0!==r?localStorage.setItem(i,r):localStorage.removeItem(i)},loadLocal:function(e,t){var a=e.state,n="gestalt:".concat(Oe(a.key),":").concat(t);return localStorage.getItem(n)||void 0},load:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,a.next=3,Dt.acquire();case 3:return s=a.sent,a.prev=4,a.next=7,r("resetSocket");case 7:return n("setKey",t),a.next=10,r("loadLocal","data");case 10:return i=a.sent,n("setContext",wt(i,t)),a.next=14,r("loadLocal","version");case 14:return c=a.sent,n("setVersion",c),a.next=18,r("setupSocket");case 18:a.next=23;break;case 20:a.prev=20,a.t0=a["catch"](4),console.warn("Unable to load state:",a.t0.message);case 23:return a.prev=23,s(),a.finish(23);case 26:case"end":return a.stop()}}),a,null,[[4,20,23,26]])})))()},save:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.dispatch,r=e.commit,t.next=3,n("saveLocal",{name:"data",value:jt(a,a.key)});case 3:r("setSaved",!0);case 4:case"end":return t.stop()}}),t)})))()},saveIfNeeded:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.state,n=e.dispatch,!a.saved){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n("save");case 5:return t.next=7,n("setVersion",void 0);case 7:case"end":return t.stop()}}),t)})))()},copyLink:function(e){var t=e.state;at()(Ct(t.key))},newGestalt:function(){window.open(Ct(_e()))},cloneGestalt:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.dispatch,r=_e(),t.next=4,n("saveLocal",{key:r,name:"data",value:jt(a,r)});case 4:window.open(Ct(r));case 5:case"end":return t.stop()}}),t)})))()},resetAllTasks:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.dispatch,a("resetAllTasks"),t.next=4,n("saveIfNeeded");case 4:case"end":return t.stop()}}),t)})))()},setVersion:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.state,r=e.commit,s=e.dispatch,t||Pt(),n.version!==t){a.next=4;break}return a.abrupt("return");case 4:return r("setVersion",t),a.next=7,s("saveLocal",{name:"version",value:t});case 7:case"end":return a.stop()}}),a)})))()},syncIfNeeded:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.state,n=e.dispatch,At.connected&&!a.version&&!It){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n("sync");case 5:case"end":return t.stop()}}),t)})))()},sync:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n,r,s,i,c,o,u,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.state,n=e.commit,r=e.dispatch,clearTimeout(It),It=void 0,At.connected){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,Dt.acquire();case 7:return s=t.sent,t.prev=8,i=Et,t.next=12,Rt("get",{known:a.version});case 12:u=t.sent;case 13:if(!(i-- >0)){t.next=37;break}if(d=void 0,!u.data){t.next=23;break}if(u.context=wt(u.data,a.key),!a.version){t.next=20;break}return a.version!==u.version&&(c=u.context,o=u.version),t.abrupt("break",37);case 20:d=Lt(a,u.context),t.next=25;break;case 23:if(u.version!==a.version||!(u.version||0===a.prefs.length&&0===a.tasks.length)){t.next=25;break}return t.abrupt("break",37);case 25:return l=jt(d||a,a.key,!0),t.next=28,Rt("set",{data:l,version:u.version});case 28:if(u=t.sent,!u.success){t.next=33;break}return c=d||void 0,o=u.version,t.abrupt("break",37);case 33:return t.next=35,$t(200);case 35:t.next=13;break;case 37:if(!c){t.next=42;break}return xt.transferExpanded(a.tasks,c.tasks),n("setContext",c),t.next=42,r("save");case 42:if(!o){t.next=45;break}return t.next=45,r("setVersion",o);case 45:t.next=50;break;case 47:t.prev=47,t.t0=t["catch"](8),console.warn("Unable to sync:",t.t0.message);case 50:return t.prev=50,s(),t.finish(50);case 53:case"end":return t.stop()}}),t,null,[[8,47,50,53]])})))()},setPref:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,s=t.name,i=t.value,a.next=4,Dt.acquire();case 4:return c=a.sent,a.prev=5,n("setPref",{name:s,value:i}),a.next=9,r("saveIfNeeded");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](5),console.warn("Unable to set preference:",a.t0.message);case 14:return a.prev=14,c(),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[5,11,14,17]])})))()},upsertTask:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,c,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,s=t.uuid,i=t.subtask,c=t.data,a.next=4,Dt.acquire();case 4:return o=a.sent,a.prev=5,n("upsertTask",{uuid:s,subtask:i,data:c}),a.next=9,r("saveIfNeeded");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](5),console.warn("Unable to upsert task:",a.t0.message);case 14:return a.prev=14,o(),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[5,11,14,17]])})))()},moveTask:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,c,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,s=t.uuid,i=t.target,c=t.index,a.next=4,Dt.acquire();case 4:return o=a.sent,a.prev=5,n("moveTask",{uuid:s,target:i,index:c}),a.next=9,r("saveIfNeeded");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](5),console.warn("Unable to move task:",a.t0.message);case 14:return a.prev=14,o(),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[5,11,14,17]])})))()},reorderTask:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,c,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,s=t.parent,i=t.from,c=t.to,a.next=4,Dt.acquire();case 4:return o=a.sent,a.prev=5,n("reorderTask",{parent:s,from:i,to:c}),a.next=9,r("saveIfNeeded");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](5),console.warn("Unable to reorder task:",a.t0.message);case 14:return a.prev=14,o(),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[5,11,14,17]])})))()},deleteTask:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.dispatch,a.next=3,Dt.acquire();case 3:return s=a.sent,a.prev=4,n("deleteTask",t),a.next=8,r("saveIfNeeded");case 8:a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](4),console.warn("Unable to delete task:",a.t0.message);case 13:return a.prev=13,s(),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[4,10,13,16]])})))()},expandTask:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.commit,r=e.dispatch,t){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,Dt.acquire();case 5:return s=a.sent,a.prev=6,n("expandTask",t),a.next=10,r("save");case 10:a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](6),console.warn("Unable to expand task:",a.t0.message);case 15:return a.prev=15,s(),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[6,12,15,18]])})))()}},mutations:{setContext:function(e,t){var a=t.prefs,n=t.tasks;e.prefs=a,e.tasks=n,xt.recomputeStates(e.tasks),e.saved=!1},setKey:function(e,t){e.key=t},setSaved:function(e,t){e.saved=t},setVersion:function(e,t){e.version=t},setPref:function(e,t){var a=t.name,n=t.value;ut.setValue(e.prefs,a,n),e.saved=!1},setPrefsDialogShown:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.prefsDialogShown=t},upsertTask:function(e,t){var a=t.uuid,n=t.subtask,r=t.data,s=we();if(a){var i=xt.findOne(e.tasks,a)||{},c=i.task;if(!c)return;return c.data=r,c.changed=s,xt.recomputeStates(e.tasks),void(e.saved=!1)}var o={data:r,uuid:Object(et["a"])(),changed:s,moved:s,subtasks:[],expanded:!1,deleted:!1,created:!0,state:void 0};if(!e.selectedTask)return e.tasks.push(o),xt.recomputeStates(e.tasks),e.selectedTask=o.uuid,void(e.saved=!1);var u=xt.findOne(e.tasks,e.selectedTask)||{},d=u.task,l=u.tasks,f=u.index;d&&(n?(d.subtasks.push(o),d.expanded=!0):l.splice(f+1,0,o),xt.recomputeStates(e.tasks),e.selectedTask=o.uuid,e.saved=!1)},moveTask:function(e,t){var a=t.uuid,n=t.target,r=t.index;if(a!==n){var s=xt.findOne(e.tasks,a),i=s.task,c=Object(Xe["a"])(s,Ot);if(i&&!xt.findOne(i.subtasks||[],n)){var o;if(n){var u=xt.findOne(e.tasks,n)||{},d=u.task;if(!d)return;d.expanded=!0,o=d.subtasks}else o=e.tasks;c.tasks.splice(c.index,1),void 0===r?o.push(i):o.splice(r,0,i),i.moved=we(),xt.recomputeStates(e.tasks),e.saved=!1}}},reorderTask:function(e,t){var a=t.parent,n=t.from,r=t.to,s=xt.findSubtasks(e.tasks,a);if(s){var i=s.splice(n,1)[0];i.moved=we(),s.splice(r,0,i),e.saved=!1}},deleteTask:function(e,t){var a;if(t){(null===e||void 0===e||null===(a=e.demandedTask)||void 0===a?void 0:a.uuid)===t&&(e.demandedTask=void 0);var n=xt.findOne(e.tasks,t);n&&(n.task.deleted=!0,n.tasks.splice(n.index,1),e.tasks.push(n.task),xt.recomputeStates(e.tasks),e.saved=!1,e.selectedTask===t&&(n.previous?e.selectedTask=n.previous:n.next?e.selectedTask=n.next:e.selectedTask=void 0))}},resetAllTasks:function(e){0!==xt.resetAll(e.tasks)&&(xt.recomputeStates(e.tasks),e.saved=!1)},expandTask:function(e,t){var a=xt.findOne(e.tasks,t)||{},n=a.task;n&&(n.expanded=!n.expanded)},selectTask:function(e,t){t&&!xt.findOne(e.tasks,t)||(e.selectedTask=t)},demandTask:function(e,t){e.demandedTask=t}}}),Nt=Gt,Vt=a("f309"),Kt=a("fcf4"),Mt={primary:Kt["a"].indigo.lighten1,success:Kt["a"].green.lighten1,error:Kt["a"].red,pipe:Kt["a"].grey},Ut=Object(s["a"])(Object(s["a"])({},Mt),{},{background:"#ECECEC",foreground:"#FFFFFF"}),Bt=Object(s["a"])(Object(s["a"])({},Mt),{},{background:"#1E1E1E",foreground:"#2C2C2C"});c["a"].use(Vt["a"]);var qt=new Vt["a"]({icons:{iconfont:"md"},theme:{themes:{light:Ut,dark:Bt},options:{customProperties:!0},dark:"true"===localStorage.getItem("dark")},breakpoint:{thresholds:{xs:576,sm:768,md:992,lg:1200}}});c["a"].config.productionTip=!1,new c["a"]({router:Ye,store:Nt,vuetify:qt,i18n:k,render:function(e){return e(oe)}}).$mount("#app")},7704:function(e){e.exports=JSON.parse('{"_LOCALE_TITLE":"Русский","APP_LANGUAGE":"Язык Приложения","CLONE_GESTALT":"Клонировать Гештальт","CLOSE":"Закрыть","COPY_LINK":"Скопировать ссылку","DELETE":"Удалить","DESCRIPTION_LENGTH_LIMIT_MESSAGE":"Описание должно быть не больше 256 символов","DESCRIPTION_REQUIRED_MESSAGE":"Описание не может быть пустым","DESCRIPTION":"Описание","GESTALT":"Гештальт","NEW_GESTALT":"Новый Гештальт","RESET_ALL_TASKS":"Перепоставить все задачи","SAVE":"Сохранить","SUBTASK":"Подзадача","TASK_STATE_COMPLETE":"Завершена","TASK_STATE_IN_PROGRESS":"Выполняется","TASK_STATE_SET":"Поставлена","TASK":"Задача","TITLE_LENGTH_LIMIT_MESSAGE":"Название должно быть не больше 64 символов","TITLE":"Название","TOGGLE_COLOR_THEME":"Поменять цветовую тему","UNTITLED":"Без названия"}')},"85ec":function(e,t,a){},"88dd":function(e,t,a){"use strict";a("ee15")},bfde:function(e,t,a){"use strict";a("107c5")},edd4:function(e){e.exports=JSON.parse('{"_LOCALE_TITLE":"English","APP_LANGUAGE":"Application Language","CLONE_GESTALT":"Clone Gestalt","CLOSE":"Close","COPY_LINK":"Copy link","DELETE":"Delete","DESCRIPTION_LENGTH_LIMIT_MESSAGE":"Description must be less than or equal to 256 characters","DESCRIPTION_REQUIRED_MESSAGE":"Description is required","DESCRIPTION":"Description","GESTALT":"Gestalt","NEW_GESTALT":"New Gestalt","RESET_ALL_TASKS":"Reset all tasks","SAVE":"Save","SUBTASK":"Subtask","TASK_STATE_COMPLETE":"Complete","TASK_STATE_IN_PROGRESS":"In Progress","TASK_STATE_SET":"Set","TASK":"Task","TITLE_LENGTH_LIMIT_MESSAGE":"Title must be less than or equal to 64 characters","TITLE":"Title","TOGGLE_COLOR_THEME":"Toggle color theme","UNTITLED":"Untitled"}')},ee15:function(e,t,a){}});