(function(e){function t(t){for(var a,i,o=t[0],c=t[1],u=t[2],d=0,v=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(v.length)v.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},1:function(e,t){},"49f8":function(e,t,n){var a={"./en.json":"edd4","./ru.json":"7704"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id="49f8"},"549d":function(e,t,n){"use strict";n("e921")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{key:e.$i18n.locale},[n("v-app-bar",{attrs:{app:"",elevation:"2","elevate-on-scroll":"",color:"foreground"}},[n("v-container",{staticClass:"d-flex py-0 noselect overflow-x-hidden"},[n("v-avatar",{staticClass:"mr-3",attrs:{size:"32"}},[n("div",{attrs:{id:"favicon"}},[n("object",{attrs:{type:"image/svg+xml",data:"favicon.svg",width:"100%",height:"100%"}})])]),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("div",e._g(e._b({staticClass:"d-flex align-center text-h5 overflow-x-hidden pr-4",attrs:{id:"title"},on:{click:function(t){return e.setPrefsDialogShown(!0)}}},"div",r,!1),a),[n("span",{staticClass:"font-weight-medium mr-2"},[e._v(e._s(e.$t("GESTALT"))+":")]),n("span",{staticClass:"text-truncate",class:{"muted-1":!e.title}},[e._v(" "+e._s(e.title||e.$t("UNTITLED"))+" ")]),n("v-badge",{staticClass:"ml-2",attrs:{dot:"","offset-y":"-6",value:!e.synced}})],1)]}}])},[n("span",[e._v(e._s(e.$t("GESTALT_TITLE_TOOLTIP")))])]),n("v-spacer"),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"ml-2",attrs:{depressed:""},on:{click:function(t){return e.demandTask({})}}},"v-btn",r,!1),a),[n("v-icon",{attrs:{left:""}},[e._v(e._s(e.mdiPlus))]),e._v(" "+e._s(e.$t("TASK"))+" ")],1)]}}])},[n("span",[e._v(e._s(e.$t("NEW_TASK_TOOLTIP")))])]),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"ml-2",attrs:{depressed:"",disabled:!e.selectedTask},on:{click:function(t){return e.demandTask({subtask:!0})}}},"v-btn",r,!1),a),[n("v-icon",{attrs:{left:""}},[e._v(e._s(e.mdiPlus))]),e._v(" "+e._s(e.$t("SUBTASK"))+" ")],1)]}}])},[n("span",[e._v(e._s(e.$t("NEW_SUBTASK_TOOLTIP")))])]),n("v-menu",{attrs:{"open-on-hover":"",transition:"slide-y-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"nominwidth pa-2 ml-2",attrs:{depressed:""}},"v-btn",r,!1),a),[n("v-icon",[e._v(e._s(e.mdiMenu))])],1)]}}])},[n("app-menu-list")],1)],1)],1),n("prefs-dialog"),n("task-dialog"),n("v-main",{staticClass:"background"},[n("router-view")],1)],1)},r=[],s=n("5530"),i=(n("99af"),n("2f62")),o=n("94ed"),c=(n("d3b7"),n("159b"),n("ddb0"),n("ac1f"),n("466d"),n("1276"),n("498a"),n("2b0e")),u=n("a925");c["a"].use(u["a"]);var l={},d=n("49f8");d.keys().forEach((function(e){var t=e.match(/([A-Za-z0-9-_]+)\./i);if(t&&t.length>1){var n=t[1];l[n]=d(e)}}));var v=function(e){return e&&e.trim().split(/-|_/)[0]},f=v(void 0!==navigator.languages?navigator.languages[0]:navigator.language),p="locale",T=function(e){e!==f?localStorage.setItem(p,e):localStorage.removeItem(p)},_=new u["a"]({locale:localStorage.getItem(p)||f||"en",fallbackLocale:"en",messages:l}),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",[n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-list-item",e._g(e._b({attrs:{link:""},on:{click:e.copyLink}},"v-list-item",r,!1),a),[n("v-icon",{attrs:{left:""}},[e._v(e._s(e.mdiLinkVariant))]),e._v(" "+e._s(e.$t("COPY_LINK"))+" ")],1)]}}])},[n("span",[e._v(e._s(e.$t("COPY_LINK_TOOLTIP")))])]),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-list-item",e._g(e._b({attrs:{link:""},on:{click:e.newGestalt}},"v-list-item",r,!1),a),[n("v-icon",{attrs:{left:""}},[e._v(e._s(e.mdiOpenInNew))]),e._v(" "+e._s(e.$t("NEW_GESTALT"))+" ")],1)]}}])},[n("span",[e._v(e._s(e.$t("NEW_GESTALT_TOOLTIP")))])]),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-list-item",e._g(e._b({attrs:{link:""},on:{click:e.cloneGestalt}},"v-list-item",r,!1),a),[n("v-icon",{attrs:{left:""}},[e._v(e._s(e.mdiContentDuplicate))]),e._v(" "+e._s(e.$t("CLONE_GESTALT"))+" ")],1)]}}])},[n("span",[e._v(e._s(e.$t("CLONE_GESTALT_TOOLTIP")))])]),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-list-item",e._g(e._b({attrs:{link:""},on:{click:e.resetAllTasks}},"v-list-item",r,!1),a),[n("v-icon",{attrs:{left:""}},[e._v(e._s(e.mdiCircleOutline))]),e._v(" "+e._s(e.$t("RESET_ALL_TASKS"))+" ")],1)]}}])},[n("span",[e._v(e._s(e.$t("RESET_ALL_TASKS_TOOLTIP")))])]),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-list-item",e._g(e._b({attrs:{link:""},on:{click:e.toggleDarkTheme}},"v-list-item",r,!1),a),[n("v-icon",{attrs:{left:""}},[e._v(e._s(e.mdiInvertColors))]),e._v(" "+e._s(e.$t("TOGGLE_COLOR_THEME"))+" ")],1)]}}])},[n("span",[e._v(e._s(e.$t("TOGGLE_COLOR_THEME_TOOLTIP")))])]),n("v-divider"),n("v-subheader",[e._v(" "+e._s(e.$t("APP_LANGUAGE"))+" ")]),n("v-list-item-group",{model:{value:e.$i18n.locale,callback:function(t){e.$set(e.$i18n,"locale",t)},expression:"$i18n.locale"}},e._l(e.$i18n.availableLocales,(function(t){return n("v-tooltip",{key:t,attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,s=a.attrs;return[n("v-list-item",e._g(e._b({attrs:{value:t}},"v-list-item",s,!1),r),[n("v-icon",{attrs:{left:""}},[e._v(e._s(e.mdiTranslate))]),e._v(" "+e._s(e.$t("_LOCALE_TITLE",t))+" ")],1)]}}],null,!0)},[n("span",[e._v(e._s(e.$t("_LOCALE_TOOLTIP",t)))])])})),1),n("v-divider"),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-list-item",e._g(e._b({attrs:{href:e.github,target:"_blank"}},"v-list-item",r,!1),a),[n("v-icon",{attrs:{left:""}},[e._v(e._s(e.mdiGithub))]),e._v(" "+e._s(e.$t("GITHUB_REPOSITORY"))+" ")],1)]}}])},[n("span",[e._v(e._s(e.$t("GITHUB_REPOSITORY_TOOLTIP")))])]),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-list-item",e._g(e._b({attrs:{href:e.linkedin,target:"_blank"}},"v-list-item",r,!1),a),[n("v-icon",{attrs:{left:""}},[e._v(e._s(e.mdiLinkedin))]),e._v(" "+e._s(e.$t("LINKEDIN_PROFILE"))+" ")],1)]}}])},[n("span",[e._v(e._s(e.$t("LINKEDIN_PROFILE_TOOLTIP")))])])],1)},k=[],b="https://github.com/andrew-markin/gestalt",O="https://www.linkedin.com/in/andrew-markin-08396831",h=n("f309"),E={primary:"#5C6BC0",success:"#66BB6A",error:"#F44336",pipe:"#9E9E9E"},S=Object(s["a"])(Object(s["a"])({},E),{},{background:"#E5E5E5",foreground:"#FFFFFF",hover:"#F6F7FB"}),g=Object(s["a"])(Object(s["a"])({},E),{},{background:"#1E1E1E",foreground:"#2C2C2C",hover:"#2E2F33"});c["a"].use(h["a"]);var L=!1,I=matchMedia&&matchMedia("(prefers-color-scheme: dark)");I&&(L=I.matches,I.addEventListener("change",(function(e){var t=e.matches;L=t,A()})));var x="dark",y=function(){var e=localStorage.getItem(x);return null!==e?"true"===e:L},A=function(){P.framework.theme.dark=y()},w=function(){var e=!P.framework.theme.dark;e!==L?localStorage.setItem(x,e):localStorage.removeItem(x),A()},P=new h["a"]({icons:{iconfont:"mdiSvg"},theme:{themes:{light:S,dark:g},options:{customProperties:!0},dark:y()},breakpoint:{thresholds:{xs:576,sm:768,md:992,lg:1200}}}),C=P,j={data:function(){return{github:b,linkedin:O,mdiLinkVariant:o["i"],mdiOpenInNew:o["l"],mdiContentDuplicate:o["f"],mdiCircleOutline:o["e"],mdiInvertColors:o["h"],mdiTranslate:o["n"],mdiGithub:o["g"],mdiLinkedin:o["j"]}},methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["copyLink","newGestalt","cloneGestalt","resetAllTasks"])),{},{toggleDarkTheme:w})},R=j,G=n("2877"),$=n("6544"),D=n.n($),N=n("ce7e"),K=n("132d"),V=n("8860"),M=n("da13"),U=n("1baa"),B=n("e0c7"),H=n("3a2f"),F=Object(G["a"])(R,m,k,!1,null,null,null),Y=F.exports;D()(F,{VDivider:N["a"],VIcon:K["a"],VList:V["a"],VListItem:M["a"],VListItemGroup:U["a"],VSubheader:B["a"],VTooltip:H["a"]});var W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"650","overlay-color":"grey darken-3"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("v-card",{staticClass:"pa-5"},[n("span",{staticClass:"text-h5"},[e._v(e._s(e.$t("GESTALT")))]),n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{staticClass:"my-5",attrs:{autofocus:"",label:e.$t("TITLE"),placeholder:e.$t("UNTITLED"),rules:e.titleRules,counter:"64"},on:{focus:e.$moveCursorToEnd,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.$refs.saveButton.$el.click())}},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),n("div",{staticClass:"d-flex"},[n("v-spacer"),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mr-3",attrs:{depressed:""},on:{click:function(t){e.visible=!1}}},"v-btn",r,!1),a),[e._v(" "+e._s(e.$t("CLOSE_DIALOG"))+" ")])]}}])},[n("span",[e._v(e._s(e.$t("CLOSE_DIALOG_TOOLTIP")))])]),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({ref:"saveButton",attrs:{depressed:"",color:"primary",disabled:!e.visible||!e.valid||!e.modified},on:{click:e.save}},"v-btn",r,!1),a),[e._v(" "+e._s(e.$t("SAVE_DIALOG"))+" ")])]}}])},[n("span",[e._v(e._s(e.$t("SAVE_DIALOG_TOOLTIP")))])])],1)],1)],1)},q=[],z=n("1da1"),J=(n("96cf"),{data:function(){return{title:"",valid:!0}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["e"])(["prefsDialogShown"])),Object(i["c"])(["getPref"])),{},{visible:{get:function(){return!!this.prefsDialogShown},set:function(e){e||this.setPrefsDialogShown(!1)}},titleRules:function(){var e=this;return[function(t){return t.length<=64||e.$t("TITLE_LENGTH_LIMIT_MESSAGE")}]},savedTitle:function(){return this.getPref("title")},trimmedTitle:function(){return this.title.trim()||void 0},modified:function(){return this.trimmedTitle!==this.savedTitle}}),watch:{prefsDialogShown:function(e){this.title=e&&this.savedTitle||"",this.$refs.form&&this.$refs.form.resetValidation()}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["b"])(["setPref"])),Object(i["d"])(["setPrefsDialogShown"])),{},{save:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.visible&&e.modified&&e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.setPref({name:"title",value:e.trimmedTitle});case 4:e.visible=!1;case 5:case"end":return t.stop()}}),t)})))()}})}),Q=J,X=n("8336"),Z=n("b0af"),ee=n("169a"),te=n("4bd4"),ne=n("2fa4"),ae=n("8654"),re=Object(G["a"])(Q,W,q,!1,null,null,null),se=re.exports;D()(re,{VBtn:X["a"],VCard:Z["a"],VDialog:ee["a"],VForm:te["a"],VSpacer:ne["a"],VTextField:ae["a"],VTooltip:H["a"]});var ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"650","overlay-color":"grey darken-3"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("v-card",{staticClass:"pa-5"},[n("div",{staticClass:"d-flex align-center"},[n("span",{staticClass:"text-h5"},[e._v(e._s(e.$t("TASK")))]),n("v-spacer"),n("task-state-input",{model:{value:e.state,callback:function(t){e.state=t},expression:"state"}})],1),n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-textarea",{staticClass:"my-5",attrs:{autofocus:"",label:e.$t("DESCRIPTION"),rows:"6","no-resize":"",counter:"256",required:"",rules:e.descriptionRules},on:{focus:e.$moveCursorToEnd,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void(e.description+="\n")):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.$refs.saveButton.$el.click())}]},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),n("div",{staticClass:"d-flex"},[e.task?n("v-tooltip",{attrs:{bottom:"","open-delay":"500",depressed:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{depressed:""},on:{click:function(t){return e.deleteTask(e.task.uuid)}}},"v-btn",r,!1),a),[e._v(" "+e._s(e.$t("DELETE_TASK"))+" ")])]}}],null,!1,2196128240)},[n("span",[e._v(e._s(e.$t("DELETE_TASK_TOOLTIP")))])]):e._e(),n("v-spacer"),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mr-3",attrs:{depressed:""},on:{click:function(t){e.visible=!1}}},"v-btn",r,!1),a),[e._v(" "+e._s(e.$t("CLOSE_DIALOG"))+" ")])]}}])},[n("span",[e._v(e._s(e.$t("CLOSE_DIALOG_TOOLTIP")))])]),n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({ref:"saveButton",attrs:{depressed:"",color:"primary",disabled:!e.visible||!e.valid||!e.modified},on:{click:e.save}},"v-btn",r,!1),a),[e._v(" "+e._s(e.$t("SAVE_DIALOG"))+" ")])]}}])},[n("span",[e._v(e._s(e.$t("SAVE_DIALOG_TOOLTIP")))])])],1)],1)],1)},oe=[],ce=(n("a4d3"),n("e01a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-inline"},e._l(e.states,(function(t){return n("v-tooltip",{key:t.value,attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,s=a.attrs;return[n("v-btn",e._g(e._b({staticClass:"ml-1",class:{"muted-1":t.value!==e.value},attrs:{depressed:"",rounded:"",color:t.value===e.value&&t.color||void 0,text:t.value!==e.value},on:{click:function(n){e.$emit("input",t.value)&&e.blur()}}},"v-btn",s,!1),r),[e._v(" "+e._s(t.title)+" "),n("v-icon",{attrs:{right:""}},[e._v(e._s(t.icon))])],1)]}}],null,!0)},[n("span",[e._v(e._s(t.tootip))])])})),1)}),ue=[],le=(n("a9e3"),{Set:0,InProgress:1,Complete:2}),de={props:{value:{type:Number,default:0}},computed:{states:function(){return[{value:le.Set,title:this.$t("TASK_STATE_SET"),tootip:this.$t("TASK_STATE_SET_TOOLTIP"),icon:o["e"],color:void 0},{value:le.InProgress,title:this.$t("TASK_STATE_IN_PROGRESS"),tootip:this.$t("TASK_STATE_IN_PROGRESS_TOOLTIP"),icon:o["d"],color:"primary"},{value:le.Complete,title:this.$t("TASK_STATE_COMPLETE"),tootip:this.$t("TASK_STATE_COMPLETE_TOOLTIP"),icon:o["c"],color:"success"}]},blur:function(){var e=this.$el.parentElement;while(e&&"0"!==e.getAttribute("tabindex"))e=e.parentElement;return function(){e&&e.focus()}}}},ve=de,fe=Object(G["a"])(ve,ce,ue,!1,null,null,null),pe=fe.exports;D()(fe,{VBtn:X["a"],VIcon:K["a"],VTooltip:H["a"]});var Te={components:{TaskStateInput:pe},data:function(){return{description:"",state:0,valid:!0}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["e"])(["demandedTask"])),Object(i["c"])(["getTask"])),{},{visible:{get:function(){return!!this.demandedTask},set:function(e){e||this.demandTask()}},descriptionRules:function(){var e=this;return[function(t){return!!t&&t.trim().length>0||e.$t("DESCRIPTION_REQUIRED_MESSAGE")},function(t){return t.length<=256||e.$t("DESCRIPTION_LENGTH_LIMIT_MESSAGE")}]},task:function(){var e=this.demandedTask||{},t=e.uuid;return this.getTask(t)},trimmedDescription:function(){return this.description.trim()},modified:function(){if(!this.task)return!0;if(!this.task.data)return!1;var e=this.task.data,t=e.description,n=e.state;return this.trimmedDescription!==t||this.state!==n}}),watch:{demandedTask:function(){if(this.task){var e=this.task.data||{},t=e.description,n=e.state;this.description=t||"",this.state=n||0}else this.description="",this.state=0;this.$refs.form&&this.$refs.form.resetValidation()}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["b"])(["upsertTask","deleteTask"])),Object(i["d"])(["demandTask"])),{},{save:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.demandedTask&&e.modified&&e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:return n=e.demandedTask,a=n.uuid,r=n.subtask,t.next=5,e.upsertTask({uuid:a,subtask:r,data:{description:e.trimmedDescription,state:e.state}});case 5:e.visible=!1;case 6:case"end":return t.stop()}}),t)})))()}})},_e=Te,me=n("a844"),ke=Object(G["a"])(_e,ie,oe,!1,null,null,null),be=ke.exports;D()(ke,{VBtn:X["a"],VCard:Z["a"],VDialog:ee["a"],VForm:te["a"],VSpacer:ne["a"],VTextarea:me["a"],VTooltip:H["a"]});var Oe={components:{AppMenuList:Y,PrefsDialog:se,TaskDialog:be},data:function(){return{mdiPlus:o["m"],mdiMenu:o["k"]}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["e"])(["selectedTask"])),Object(i["c"])(["synced","getPref"])),{},{title:function(){return this.getPref("title")}}),watch:{title:function(){this.updateTitle()},"$i18n.locale":function(e){T(e),this.updateTitle()}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["b"])(["copyLink","newGestalt","cloneGestalt","resetAllTasks"])),Object(i["d"])(["setPrefsDialogShown","demandTask"])),{},{updateTitle:function(){document.title="".concat(this.$t("GESTALT"),": ").concat(this.title||this.$t("UNTITLED"))}}),created:function(){this.updateTitle()}},he=Oe,Ee=(n("034f"),n("a935"),n("7496")),Se=n("40dc"),ge=n("8212"),Le=n("4ca6"),Ie=n("a523"),xe=n("f6c4"),ye=n("e449"),Ae=Object(G["a"])(he,a,r,!1,null,"32c7011a",null),we=Ae.exports;D()(Ae,{VApp:Ee["a"],VAppBar:Se["a"],VAvatar:ge["a"],VBadge:Le["a"],VBtn:X["a"],VContainer:Ie["a"],VIcon:K["a"],VMain:xe["a"],VMenu:ye["a"],VSpacer:ne["a"],VTooltip:H["a"]});n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("25f0");var Pe=n("c198"),Ce=n.n(Pe),je=n("42a7"),Re=n.n(je),Ge=n("21bf"),$e=n.n(Ge),De=n("ed53"),Ne=n.n(De),Ke=n("acff"),Ve="dTQh12Ao8KnoIKJyvvPVXq3yyYeTej71",Me=function(e){for(var t=e.length,n=[],a=0;a<t;a++)n[a>>>2]|=e[a]<<24-a%4*8;return $e.a.lib.WordArray.create(n,e.length)},Ue=function(e){for(var t=e.words,n=e.sigBytes,a=new Uint8Array(n),r=0;r<n;r++)a[r]=t[r>>>2]>>>24-r%4*8&255;return a},Be=Re()("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),He=function(){var e=$e.a.lib.WordArray.random(32);return Be.encode(Ue(e))},Fe=function(e){return Ne()(e,Ve).toString()},Ye=function(e,t){if(e){var n=Me(Ke["a"].deflate(e));return Ce.a.encrypt(n,t).toString()}},We=function(e,t){if(e){var n=Ue(Ce.a.decrypt(e,t));return Ke["a"].inflate(n,{to:"string"})}},qe=0,ze=function(){return 1e3*(Date.now()+qe)+Math.floor(1e3*Math.random())},Je=function(e){qe=e},Qe=function(e){var t=e.target,n=t.value.length;t.setSelectionRange(n,n)};c["a"].prototype.$moveCursorToEnd=Qe;var Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"pt-0"},[n("div",{attrs:{id:"outside"},on:{click:function(t){return e.select()}}}),n("task-tree",{staticClass:"noselect",attrs:{tasks:e.tasks,"selected-task":e.selectedTask},on:{open:e.open,move:e.move,reorder:e.reorder,expand:e.expand,select:e.select}})],1)},Ze=[],et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("drop-list",{class:{"mt-3":!e.parent,hoverable:!e.dragInProgress},attrs:{items:e.tasks,column:"","no-animations":""},on:{insert:function(t){return e.$emit("move",t.data,e.parent,t.index)},reorder:function(t){return e.$emit("reorder",e.parent,t.from,t.to)}},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item,r=t.index;return[n("drag",{key:a.uuid,attrs:{data:a.uuid,"drag-image-opacity":.9},on:{dragstart:function(t){return e.$emit("select",a.uuid)}},scopedSlots:e._u([a.deleted?null:{key:"default",fn:function(){return[n("div",{staticClass:"d-flex"},[e.parent?n("div",{staticClass:"trunk mt-n3",class:{piped:r!==e.lastTaskIndex}},[n("div",{staticClass:"bridge pt-3",class:{last:r===e.lastTaskIndex}})]):e._e(),n("div",{staticClass:"flex-grow-1 overflow-hidden"},[n("v-sheet",{staticClass:"task rounded mb-3 px-3 d-flex",class:{primary:a.uuid===e.selectedTask},attrs:{tabindex:"0",dark:a.uuid===e.selectedTask},on:{focus:function(t){return e.$emit("select",a.uuid)},dblclick:function(t){return e.$emit("open",a.uuid)}}},[a.subtasks.length>0?n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[n("div",e._g(e._b({staticClass:"expander ml-n3 d-flex justify-center",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("expand",a.uuid)},dblclick:function(e){e.preventDefault(),e.stopPropagation()}}},"div",s,!1),r),[n("v-icon",[e._v(" "+e._s(a.expanded?e.mdiChevronUp:e.mdiChevronDown)+" ")])],1)]}}],null,!0)},[n("span",[e._v(e._s(a.expanded?e.$t("TASK_COLLAPSE"):e.$t("TASK_EXPAND")))])]):e._e(),n("div",{staticClass:"d-flex flex-grow-1 align-center overflow-hidden"},[n("span",{staticClass:"text-body-1 text-truncate"},[e._v(" "+e._s(a.data.description)+" ")])]),n("div",{staticClass:"ml-3 d-flex align-center"},[n("task-state-icon",{attrs:{state:a.state}})],1),n("drop",{staticClass:"drop-area",on:{drop:function(t){return e.$emit("move",t.data,a.uuid)}}})],1),a.subtasks.length>0&&a.expanded?n("task-tree",e._g({attrs:{parent:a.uuid,tasks:a.subtasks,"selected-task":e.selectedTask}},e.$listeners)):e._e()],1)])]},proxy:!0},{key:"drag-image",fn:function(){return[n("v-sheet",{staticClass:"primary dragged rounded pa-2 d-flex align-center noselect",attrs:{dark:""}},[n("span",{staticClass:"text-body-1 text-truncate"},[e._v(" "+e._s(a.data.description)+" ")])])]},proxy:!0}],null,!0)})]}},{key:"feedback",fn:function(t){var a=t.data;return[n("div",{key:a,staticClass:"feedback",class:{shrinked:!!e.parent}})]}},{key:"reordering-feedback",fn:function(){return[n("div",{key:"feedback",staticClass:"feedback",class:{shrinked:!!e.parent}})]},proxy:!0}])})},tt=[],nt=n("fdcb"),at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-icon",e._g(e._b({class:{"muted-2":e.muted}},"v-icon",r,!1),a),[e._v(" "+e._s(e.icon)+" ")])]}}])},[n("span",[e._v(e._s(e.tootip))])])},rt=[],st={props:{state:{type:Number,default:le.Set}},computed:{icon:function(){switch(this.state){case le.Set:return o["e"];case le.InProgress:return o["d"];case le.Complete:return o["c"];default:return}},tootip:function(){switch(this.state){case le.Set:return this.$t("TASK_STATE_SET_TOOLTIP");case le.InProgress:return this.$t("TASK_STATE_IN_PROGRESS_TOOLTIP");case le.Complete:return this.$t("TASK_STATE_COMPLETE_TOOLTIP");default:return}},muted:function(){return this.state===le.Set}}},it=st,ot=Object(G["a"])(it,at,rt,!1,null,null,null),ct=ot.exports;D()(ot,{VIcon:K["a"],VTooltip:H["a"]});var ut={name:"task-tree",mixins:[nt["b"]],components:{Drag:nt["a"],Drop:nt["c"],DropList:nt["d"],DragAwareMixin:nt["b"],TaskStateIcon:ct},props:{parent:{type:String},tasks:{type:Array,default:function(){return[]}},selectedTask:{type:String}},data:function(){return{mdiChevronDown:o["a"],mdiChevronUp:o["b"]}},computed:{lastTaskIndex:function(){var e=this.tasks,t=e.length;while(t-- >0)if(!e[t].deleted)return t}}},lt=ut,dt=(n("549d"),n("8dd9")),vt=Object(G["a"])(lt,et,tt,!1,null,"742f496c",null),ft=vt.exports;D()(vt,{VIcon:K["a"],VSheet:dt["a"],VTooltip:H["a"]});var pt={components:{TaskTree:ft},computed:Object(s["a"])(Object(s["a"])({},Object(i["e"])(["tasks","selectedTask"])),{},{gestaltKey:function(){return this.$route.params.key}}),watch:{gestaltKey:function(){this.loadGestalt()}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["b"])(["load","moveTask","reorderTask","expandTask"])),Object(i["d"])(["selectTask","demandTask"])),{},{loadGestalt:function(){this.load(this.gestaltKey)},open:function(e){this.selectTask(e),this.demandTask({uuid:e})},move:function(e,t,n){this.moveTask({uuid:e,target:t,index:n})},reorder:function(e,t,n){this.reorderTask({parent:e,from:t,to:n})},expand:function(e){this.selectTask(e),this.expandTask(e)},select:function(e){this.selectTask(e)}}),mounted:function(){this.loadGestalt()}},Tt=pt,_t=(n("88dd"),Object(G["a"])(Tt,Xe,Ze,!1,null,"5c8c7a62",null)),mt=_t.exports;D()(_t,{VContainer:Ie["a"]});var kt=n("8c4f");c["a"].use(kt["a"]);var bt=new kt["a"]({routes:[{name:"board",path:"/:key([a-zA-Z0-9]{43})",component:mt},{path:"*",redirect:{name:"board",params:{key:He()}}}]}),Ot=n("15fd"),ht=(n("e9c4"),n("3ca3"),n("2b3d"),n("9861"),n("d9e2"),n("b0c0"),n("a434"),n("abaf")),Et=n("ec26"),St=n("f904"),gt=n.n(St),Lt=n("daa8"),It=n("b85c"),xt=(n("d81d"),n("7db0"),n("4ec9"),n("a630"),function(e){return e.map((function(e){var t=e.name,n=e.value,a=e.changed;return{name:t,value:n,changed:a}}))}),yt=function(e,t){var n=e.find((function(e){return e.name===t}))||{};return n.value},At=function(e,t,n){var a=ze(),r=e.find((function(e){return e.name===t}));r?(r.value=n,r.changed=a):e.push({name:t,value:n,changed:a})},wt=function(e,t){var n,a=new Map,r=Object(It["a"])(e||[]);try{for(r.s();!(n=r.n()).done;){var s=n.value;a.set(s.name,s)}}catch(l){r.e(l)}finally{r.f()}var i,o=Object(It["a"])(t||[]);try{for(o.s();!(i=o.n()).done;){var c=i.value,u=a.get(c.name);(!u||c.changed>u.changed)&&a.set(c.name,c)}}catch(l){o.e(l)}finally{o.f()}return Array.from(a.values())},Pt={unify:xt,getValue:yt,setValue:At,merge:wt},Ct=n("3835"),jt=(n("6062"),["uuid","subtasks","expanded","deleted","state"]),Rt=["subtasks","expanded","deleted","created","state"],Gt=function e(t){return t.map((function(t){var n=t.uuid,a=t.subtasks,r=t.expanded,i=t.deleted,o=(t.state,Object(Ot["a"])(t,jt));return Object(s["a"])({uuid:n||Object(Et["a"])(),subtasks:e(a||[]),expanded:r||!1,deleted:i||!1,state:void 0},o)}))},$t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.map((function(t){var a=t.subtasks,r=t.expanded,i=t.deleted,o=t.created,c=(t.state,Object(Ot["a"])(t,Rt));return Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},a.length>0&&{subtasks:e(a,n)}),!n&&r&&{expanded:r}),!n&&i&&{deleted:i}),!n&&o&&{created:o}),c)}))},Dt=function(e,t){if(e&&t){var n,a,r=e,i=0,o=[];while(r)if(i>=r.length){var c=o.pop()||[],u=Object(Ct["a"])(c,2);r=u[0],i=u[1]}else{var l=r[i];if(l.deleted)i+=1;else{if(a)return Object(s["a"])(Object(s["a"])({},a),{},{next:l.uuid});l.uuid===t?a={task:l,tasks:r,index:i,previous:n}:n=l.uuid,i+=1,l.subtasks.length>0&&l.expanded&&(o.push([r,i]),r=l.subtasks,i=0)}}return a}},Nt=function(e,t){if(!t)return e;var n=Dt(e,t),a=n.task;return a?a.subtasks||[]:void 0},Kt=function e(t){var n,a=Object(It["a"])(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(!r.deleted){e(r.subtasks);var s,i=r.data.state,o=Object(It["a"])(r.subtasks);try{for(o.s();!(s=o.n()).done;){var c=s.value;if(!c.deleted){if(i===le.InProgress)break;if(i!==c.state){i=le.InProgress;break}}}}catch(u){o.e(u)}finally{o.f()}r.state=i}}}catch(u){a.e(u)}finally{a.f()}},Vt=function(e,t){var n=function(e){var t=new Map,n=function e(n){var a,r=Object(It["a"])(n||[]);try{for(r.s();!(a=r.n()).done;){var s=a.value;t.set(s.uuid,s),e(s.subtasks)}}catch(i){r.e(i)}finally{r.f()}};return n(e),t},a=n(e),r=n(t),i=new Set,o=function(e,t){return(e||0)>(t||0)},c=function(e,t){return(e||0)>=(t||0)},u={BOTH:0,LOCAL:1,REMOTE:2},l=function(e,t){var n=e||[],s=t||[],l=0,v=0,f=[],p=function(e){i.add(e),f.push(d(e))};while(1){var T=n[l],_=s[v];if(!T&&!_)break;var m=void 0;if(m=T?_?T.uuid===_.uuid?u.BOTH:c(_.moved,T.moved)?u.REMOTE:u.LOCAL:u.LOCAL:u.REMOTE,m===u.LOCAL){if(l++,i.has(T.uuid))continue;var k=r.get(T.uuid);if(k&&o(k.moved,T.moved))continue;p(T.uuid)}else if(m===u.REMOTE){if(v++,i.has(_.uuid))continue;var b=a.get(_.uuid);if(b&&o(b.moved,_.moved))continue;p(_.uuid)}else l++,v++,p(T.uuid)}return f},d=function(e){var t=a.get(e),n=r.get(e);if(t||n)return t?n?Object(s["a"])(Object(s["a"])({},c(t.changed,n.changed)?t:n),{},{moved:Math.max(t.moved||0,n.moved||0),subtasks:l(t.subtasks,n.subtasks),expanded:t.expanded,deleted:t.deleted}):Object(s["a"])(Object(s["a"])({},t),{},{subtasks:l(t.subtasks,void 0)}):Object(s["a"])(Object(s["a"])({},n),{},{subtasks:l(void 0,n.subtasks)})},v=function e(t){var n,a=[],s=Object(It["a"])(t);try{for(s.s();!(n=s.n()).done;){var i=n.value;i&&!i.deleted&&(i.created||r.has(i.uuid))&&(i.subtasks=e(i.subtasks),i.created=!1,a.push(i))}}catch(o){s.e(o)}finally{s.f()}return a};return v(l(e,t))},Mt=function e(t){var n,a=0,r=Object(It["a"])(t);try{for(r.s();!(n=r.n()).done;){var s=n.value;s.data.state!==le.Set&&(s.data.state=le.Set,a+=1),a+=e(s.subtasks)}}catch(i){r.e(i)}finally{r.f()}return a},Ut=function(e,t){var n=new Set,a=function e(t){var a,r=Object(It["a"])(t||[]);try{for(r.s();!(a=r.n()).done;){var s=a.value;s.expanded&&n.add(s.uuid),e(s.subtasks)}}catch(i){r.e(i)}finally{r.f()}},r=function e(t){var a,r=Object(It["a"])(t||[]);try{for(r.s();!(a=r.n()).done;){var s=a.value;n.has(s.uuid)&&(s.expanded=!0),e(s.subtasks)}}catch(i){r.e(i)}finally{r.f()}};a(e),r(t)},Bt={extend:Gt,reduce:$t,findOne:Dt,findSubtasks:Nt,recomputeStates:Kt,merge:Vt,resetAll:Mt,transferExpanded:Ut},Ht=["error"],Ft=["task"],Yt=2e3,Wt=3e4,qt=10;c["a"].use(i["a"]);var zt=function(e,t){var n=We(e,t),a=n&&JSON.parse(n)||{},r=a.prefs,s=a.tasks;return{prefs:Pt.unify(r||[]),tasks:Bt.extend(s||[])}},Jt=function(e,t){var n=e.prefs,a=e.tasks,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ye(JSON.stringify({prefs:Pt.unify(n),tasks:Bt.reduce(a,r)}),t)},Qt=function(e,t){return{prefs:Pt.merge(e.prefs,t.prefs),tasks:Bt.merge(e.tasks,t.tasks)}},Xt=function(e){var t=bt.resolve({name:"board",params:{key:e}});return new URL(t.href,window.location.href).href},Zt=Object(Lt["a"])("wss://backend.gestalt.work",{transports:["websocket"],auth:{key:"wS8r5lopYPY61YNpP9ptCVUUA4uCz00j"}});Zt.on("connect_error",(function(e){console.warn("Socket connection error:",e.message)})),Zt.on("connect",Object(z["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Date.now(),e.next=3,tn("now");case 3:n=e.sent,a=n.timestamp,t=Math.floor((t+Date.now())/2),Je(a-t),sn.dispatch("setupSocket");case 8:case"end":return e.stop()}}),e)})))),Zt.on("changed",(function(){sn.dispatch("sync")}));var en,tn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return new Promise((function(t,a){if(!Zt.connected)return a(new Error("Socket is not connected"));Zt.emit.apply(Zt,[e].concat(n,[function(e){var n=e||{},r=n.error,s=Object(Ot["a"])(n,Ht);r?a(new Error(r)):t(s)}]))}))},nn=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},an=function(){clearTimeout(en),en=setTimeout((function(){en=void 0,sn.dispatch("sync")}),Yt)};setInterval((function(){sn.dispatch("syncIfNeeded")}),Wt);var rn=new ht["a"],sn=new i["a"].Store({state:{key:void 0,prefs:[],tasks:[],saved:!0,version:void 0,prefsDialogShown:!1,selectedTask:void 0,demandedTask:void 0},getters:{synced:function(e){return e.version||0===e.prefs.length&&0===e.tasks.length},getPref:function(e){return function(t){return Pt.getValue(e.prefs,t)}},getTask:function(e){return function(t){var n=Bt.findOne(e.tasks,t)||{},a=n.task;return a}}},actions:{setupSocket:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,a=e.dispatch,Zt.connected){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,tn("ref",Fe(n.key));case 5:a("sync");case 6:case"end":return t.stop()}}),t)})))()},resetSocket:function(){return Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Zt.connected){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,tn("ref",void 0);case 4:case"end":return e.stop()}}),e)})))()},saveLocal:function(e,t){var n=e.state,a=t.name,r=t.value,s=t.key,i="gestalt:".concat(Fe(s||n.key),":").concat(a);void 0!==r?localStorage.setItem(i,r):localStorage.removeItem(i)},loadLocal:function(e,t){var n=e.state,a="gestalt:".concat(Fe(n.key),":").concat(t);return localStorage.getItem(a)||void 0},load:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=e.dispatch,n.next=3,rn.acquire();case 3:return s=n.sent,n.prev=4,n.next=7,r("resetSocket");case 7:return a("setKey",t),n.next=10,r("loadLocal","data");case 10:return i=n.sent,a("selectTask",void 0),a("setContext",zt(i,t)),n.next=15,r("loadLocal","version");case 15:return o=n.sent,a("setVersion",o),n.next=19,r("setupSocket");case 19:n.next=24;break;case 21:n.prev=21,n.t0=n["catch"](4),console.warn("Unable to load state:",n.t0.message);case 24:return n.prev=24,s(),n.finish(24);case 27:case"end":return n.stop()}}),n,null,[[4,21,24,27]])})))()},save:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,a=e.dispatch,r=e.commit,t.next=3,a("saveLocal",{name:"data",value:Jt(n,n.key)});case 3:r("setSaved",!0);case 4:case"end":return t.stop()}}),t)})))()},saveIfNeeded:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,a=e.dispatch,!n.saved){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,a("save");case 5:return t.next=7,a("setVersion",void 0);case 7:case"end":return t.stop()}}),t)})))()},copyLink:function(e){var t=e.state;gt()(Xt(t.key))},newGestalt:function(){window.open(Xt(He()))},cloneGestalt:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,a=e.dispatch,r=He(),t.next=4,a("saveLocal",{key:r,name:"data",value:Jt(n,r)});case 4:window.open(Xt(r));case 5:case"end":return t.stop()}}),t)})))()},resetAllTasks:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,a=e.dispatch,n("resetAllTasks"),t.next=4,a("saveIfNeeded");case 4:case"end":return t.stop()}}),t)})))()},setVersion:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.state,r=e.commit,s=e.dispatch,t||an(),a.version!==t){n.next=4;break}return n.abrupt("return");case 4:return r("setVersion",t),n.next=7,s("saveLocal",{name:"version",value:t});case 7:case"end":return n.stop()}}),n)})))()},syncIfNeeded:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,a=e.dispatch,Zt.connected&&!n.version&&!en){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,a("sync");case 5:case"end":return t.stop()}}),t)})))()},sync:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o,c,u,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,a=e.commit,r=e.dispatch,clearTimeout(en),en=void 0,Zt.connected){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,rn.acquire();case 7:return s=t.sent,t.prev=8,i=qt,t.next=12,tn("get",{known:n.version});case 12:u=t.sent;case 13:if(!(i-- >0)){t.next=37;break}if(l=void 0,!u.data){t.next=23;break}if(u.context=zt(u.data,n.key),!n.version){t.next=20;break}return n.version!==u.version&&(o=u.context,c=u.version),t.abrupt("break",37);case 20:l=Qt(n,u.context),t.next=25;break;case 23:if(u.version!==n.version||!(u.version||0===n.prefs.length&&0===n.tasks.length)){t.next=25;break}return t.abrupt("break",37);case 25:return d=Jt(l||n,n.key,!0),t.next=28,tn("set",{data:d,version:u.version});case 28:if(u=t.sent,!u.success){t.next=33;break}return o=l||void 0,c=u.version,t.abrupt("break",37);case 33:return t.next=35,nn(200);case 35:t.next=13;break;case 37:if(!o){t.next=42;break}return Bt.transferExpanded(n.tasks,o.tasks),a("setContext",o),t.next=42,r("save");case 42:if(!c){t.next=45;break}return t.next=45,r("setVersion",c);case 45:t.next=50;break;case 47:t.prev=47,t.t0=t["catch"](8),console.warn("Unable to sync:",t.t0.message);case 50:return t.prev=50,s(),t.finish(50);case 53:case"end":return t.stop()}}),t,null,[[8,47,50,53]])})))()},setPref:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=e.dispatch,s=t.name,i=t.value,n.next=4,rn.acquire();case 4:return o=n.sent,n.prev=5,a("setPref",{name:s,value:i}),n.next=9,r("saveIfNeeded");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](5),console.warn("Unable to set preference:",n.t0.message);case 14:return n.prev=14,o(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[5,11,14,17]])})))()},upsertTask:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=e.dispatch,s=t.uuid,i=t.subtask,o=t.data,n.next=4,rn.acquire();case 4:return c=n.sent,n.prev=5,a("upsertTask",{uuid:s,subtask:i,data:o}),n.next=9,r("saveIfNeeded");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](5),console.warn("Unable to upsert task:",n.t0.message);case 14:return n.prev=14,c(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[5,11,14,17]])})))()},moveTask:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=e.dispatch,s=t.uuid,i=t.target,o=t.index,n.next=4,rn.acquire();case 4:return c=n.sent,n.prev=5,a("moveTask",{uuid:s,target:i,index:o}),n.next=9,r("saveIfNeeded");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](5),console.warn("Unable to move task:",n.t0.message);case 14:return n.prev=14,c(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[5,11,14,17]])})))()},reorderTask:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=e.dispatch,s=t.parent,i=t.from,o=t.to,n.next=4,rn.acquire();case 4:return c=n.sent,n.prev=5,a("reorderTask",{parent:s,from:i,to:o}),n.next=9,r("saveIfNeeded");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](5),console.warn("Unable to reorder task:",n.t0.message);case 14:return n.prev=14,c(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[5,11,14,17]])})))()},deleteTask:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=e.dispatch,n.next=3,rn.acquire();case 3:return s=n.sent,n.prev=4,a("deleteTask",t),n.next=8,r("saveIfNeeded");case 8:n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](4),console.warn("Unable to delete task:",n.t0.message);case 13:return n.prev=13,s(),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[4,10,13,16]])})))()},expandTask:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.commit,r=e.dispatch,t){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,rn.acquire();case 5:return s=n.sent,n.prev=6,a("expandTask",t),n.next=10,r("save");case 10:n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](6),console.warn("Unable to expand task:",n.t0.message);case 15:return n.prev=15,s(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[6,12,15,18]])})))()}},mutations:{setContext:function(e,t){var n=t.prefs,a=t.tasks;e.prefs=n,e.tasks=a,Bt.recomputeStates(e.tasks),e.saved=!1},setKey:function(e,t){e.key=t},setSaved:function(e,t){e.saved=t},setVersion:function(e,t){e.version=t},setPref:function(e,t){var n=t.name,a=t.value;Pt.setValue(e.prefs,n,a),e.saved=!1},setPrefsDialogShown:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.prefsDialogShown=t},upsertTask:function(e,t){var n=t.uuid,a=t.subtask,r=t.data,s=ze();if(n){var i=Bt.findOne(e.tasks,n)||{},o=i.task;if(!o)return;return o.data=r,o.changed=s,Bt.recomputeStates(e.tasks),void(e.saved=!1)}var c={data:r,uuid:Object(Et["a"])(),changed:s,moved:s,subtasks:[],expanded:!1,deleted:!1,created:!0,state:void 0};if(!e.selectedTask)return e.tasks.push(c),Bt.recomputeStates(e.tasks),e.selectedTask=c.uuid,void(e.saved=!1);var u=Bt.findOne(e.tasks,e.selectedTask)||{},l=u.task,d=u.tasks,v=u.index;l&&(a?(l.subtasks.push(c),l.expanded=!0):d.splice(v+1,0,c),Bt.recomputeStates(e.tasks),e.selectedTask=c.uuid,e.saved=!1)},moveTask:function(e,t){var n=t.uuid,a=t.target,r=t.index;if(n!==a){var s=Bt.findOne(e.tasks,n),i=s.task,o=Object(Ot["a"])(s,Ft);if(i&&!Bt.findOne(i.subtasks||[],a)){var c;if(a){var u=Bt.findOne(e.tasks,a)||{},l=u.task;if(!l)return;l.expanded=!0,c=l.subtasks}else c=e.tasks;o.tasks.splice(o.index,1),void 0===r?c.push(i):c.splice(r,0,i),i.moved=ze(),Bt.recomputeStates(e.tasks),e.saved=!1}}},reorderTask:function(e,t){var n=t.parent,a=t.from,r=t.to,s=Bt.findSubtasks(e.tasks,n);if(s){var i=s.splice(a,1)[0];i.moved=ze(),s.splice(r,0,i),e.saved=!1}},deleteTask:function(e,t){var n;if(t){(null===e||void 0===e||null===(n=e.demandedTask)||void 0===n?void 0:n.uuid)===t&&(e.demandedTask=void 0);var a=Bt.findOne(e.tasks,t);a&&(a.task.deleted=!0,a.tasks.splice(a.index,1),e.tasks.push(a.task),Bt.recomputeStates(e.tasks),e.saved=!1,e.selectedTask===t&&(a.previous?e.selectedTask=a.previous:a.next?e.selectedTask=a.next:e.selectedTask=void 0))}},resetAllTasks:function(e){0!==Bt.resetAll(e.tasks)&&(Bt.recomputeStates(e.tasks),e.saved=!1)},expandTask:function(e,t){var n=Bt.findOne(e.tasks,t)||{},a=n.task;a&&(a.expanded=!a.expanded)},selectTask:function(e,t){t&&!Bt.findOne(e.tasks,t)||(e.selectedTask=t)},demandTask:function(e,t){e.demandedTask=t}}}),on=sn;c["a"].config.productionTip=!1,new c["a"]({router:bt,store:on,vuetify:C,i18n:_,render:function(e){return e(we)}}).$mount("#app")},7704:function(e){e.exports=JSON.parse('{"_LOCALE_TITLE":"Русский","_LOCALE_TOOLTIP":"Перевести на русский язык","APP_LANGUAGE":"Язык приложения","CLONE_GESTALT_TOOLTIP":"Открыть копию этого гештальта в новой вкладке браузера","CLONE_GESTALT":"Клонировать гештальт","CLOSE_DIALOG_TOOLTIP":"Закрыть этот диалог","CLOSE_DIALOG":"Закрыть","COPY_LINK_TOOLTIP":"Скопировать адрес ссылки на этот гештальт","COPY_LINK":"Скопировать ссылку","DELETE_TASK_TOOLTIP":"Удалить эту задачу","DELETE_TASK":"Удалить","DESCRIPTION_LENGTH_LIMIT_MESSAGE":"Описание должно быть не больше 256 символов","DESCRIPTION_REQUIRED_MESSAGE":"Описание не может быть пустым","DESCRIPTION":"Описание","GESTALT_TITLE_TOOLTIP":"Кликните для редактирования названия и других настроек гештальта","GESTALT":"Гештальт","GITHUB_REPOSITORY_TOOLTIP":"Открыть страницу проекта на GitHub","GITHUB_REPOSITORY":"Репозиторий на GitHub","LINKEDIN_PROFILE_TOOLTIP":"Открыть профиль автора на LinkedIn","LINKEDIN_PROFILE":"Профиль на LinkedIn","NEW_GESTALT_TOOLTIP":"Открыть пустой гештальт в новой вкладке браузера","NEW_GESTALT":"Новый гештальт","NEW_SUBTASK_TOOLTIP":"Добавить новую подзадачу","NEW_TASK_TOOLTIP":"Добавить новую задачу","RESET_ALL_TASKS_TOOLTIP":"Установить состояние всех задач в ПОСТАВЛЕНА","RESET_ALL_TASKS":"Перепоставить все задачи","SAVE_DIALOG_TOOLTIP":"Сохранить изменения","SAVE_DIALOG":"Сохранить","SUBTASK":"Подзадача","TASK_COLLAPSE":"Свернуть","TASK_EXPAND":"Развернуть","TASK_STATE_COMPLETE_TOOLTIP":"Задача завершена","TASK_STATE_COMPLETE":"Завершена","TASK_STATE_IN_PROGRESS_TOOLTIP":"Задача выполняется","TASK_STATE_IN_PROGRESS":"Выполняется","TASK_STATE_SET_TOOLTIP":"Задача поставлена","TASK_STATE_SET":"Поставлена","TASK":"Задача","TITLE_LENGTH_LIMIT_MESSAGE":"Название должно быть не больше 64 символов","TITLE":"Название","TOGGLE_COLOR_THEME_TOOLTIP":"Поменять цветовую тему на инвертированную","TOGGLE_COLOR_THEME":"Поменять цветовую тему","UNTITLED":"Без названия"}')},"85ec":function(e,t,n){},"88dd":function(e,t,n){"use strict";n("ee15")},a935:function(e,t,n){"use strict";n("e1f8")},e1f8:function(e,t,n){},e921:function(e,t,n){},edd4:function(e){e.exports=JSON.parse('{"_LOCALE_TITLE":"English","_LOCALE_TOOLTIP":"Translate to English language","APP_LANGUAGE":"Application language","CLONE_GESTALT_TOOLTIP":"Open a copy of this gestalt in a new browser tab","CLONE_GESTALT":"Clone gestalt","CLOSE_DIALOG_TOOLTIP":"Close this dialog","CLOSE_DIALOG":"Close","COPY_LINK_TOOLTIP":"Copy link address of this gestalt","COPY_LINK":"Copy link","DELETE_TASK_TOOLTIP":"Delete this task","DELETE_TASK":"Delete","DESCRIPTION_LENGTH_LIMIT_MESSAGE":"Description must be less than or equal to 256 characters","DESCRIPTION_REQUIRED_MESSAGE":"Description is required","DESCRIPTION":"Description","GESTALT_TITLE_TOOLTIP":"Click to edit title and other gestalt preferences","GESTALT":"Gestalt","GITHUB_REPOSITORY_TOOLTIP":"Open GitHub page of this project","GITHUB_REPOSITORY":"GitHub repository","LINKEDIN_PROFILE_TOOLTIP":"Open LinkedIn profile of the author","LINKEDIN_PROFILE":"LinkedIn profile","NEW_GESTALT_TOOLTIP":"Open empty gestalt in a new browser tab","NEW_GESTALT":"New gestalt","NEW_SUBTASK_TOOLTIP":"Add new subtask","NEW_TASK_TOOLTIP":"Add new task","RESET_ALL_TASKS_TOOLTIP":"Reset states of all the tasks into SET","RESET_ALL_TASKS":"Reset all tasks","SAVE_DIALOG_TOOLTIP":"Save changes","SAVE_DIALOG":"Save","SUBTASK":"Subtask","TASK_COLLAPSE":"Collapse","TASK_EXPAND":"Expand","TASK_STATE_COMPLETE_TOOLTIP":"Task is complete","TASK_STATE_COMPLETE":"Complete","TASK_STATE_IN_PROGRESS_TOOLTIP":"Task is in progress","TASK_STATE_IN_PROGRESS":"In Progress","TASK_STATE_SET_TOOLTIP":"Task is set","TASK_STATE_SET":"Set","TASK":"Task","TITLE_LENGTH_LIMIT_MESSAGE":"Title must be less than or equal to 64 characters","TITLE":"Title","TOGGLE_COLOR_THEME_TOOLTIP":"Toggle color theme to inverted","TOGGLE_COLOR_THEME":"Toggle color theme","UNTITLED":"Untitled"}')},ee15:function(e,t,n){}});